{
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/blueprint-detect.mjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/blueprint-detect.mjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 5
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/phase-tracker.mjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/phase-tracker.mjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 5
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/session-loader.mjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/session-loader.mjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 5
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/compact-preserver.mjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/compact-preserver.mjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/cycle-finalize.cjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/cycle-finalize.cjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 10
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "H=\"${CLAUDE_PLUGIN_ROOT}/hooks/session-cleanup.mjs\"; [ -f \"$H\" ] || H=$(ls \"$HOME\"/.claude/plugins/cache/*/blueprint/*/hooks/session-cleanup.mjs 2>/dev/null | head -1); [ -n \"$H\" ] && [ -f \"$H\" ] && node \"$H\" || echo '{\"continue\":true}'",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
